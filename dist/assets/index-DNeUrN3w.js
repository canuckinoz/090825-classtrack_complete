import{r as x,j as e}from"./ui-vendor-D6t9Fqz9.js";import{u as O}from"./index-DxxIEH0w.js";import"./react-vendor-DTDVRx5A.js";import"./data-vendor-CMp-lYVg.js";const _={reading_level:{improved:"has made significant progress in reading",maintained:"has maintained strong reading skills",accelerated:"has shown accelerated reading growth"},math_skills:{improved:"has strengthened mathematical thinking",maintained:"has consistently demonstrated math confidence",accelerated:"has shown remarkable math skill development"},writing_ability:{improved:"has developed more expressive writing",maintained:"has continued to write with creativity",accelerated:"has made exceptional writing progress"},self_regulation:{improved:"has shown growing self-control",maintained:"has consistently managed emotions well",accelerated:"has made remarkable strides in self-regulation"},peer_interactions:{improved:"has become more collaborative with peers",maintained:"has continued to be a positive peer influence",accelerated:"has shown exceptional growth in peer relationships"},classroom_engagement:{improved:"has become more actively engaged in learning",maintained:"has consistently participated with enthusiasm",accelerated:"has shown remarkable classroom engagement"},positive_behaviors:{improved:"has increased positive behavior choices",maintained:"has consistently demonstrated positive behaviors",accelerated:"has shown exceptional growth in positive choices"},focus_attention:{improved:"has shown improved focus and attention",maintained:"has consistently maintained good focus",accelerated:"has made remarkable progress in attention skills"}},L={weekly:["This week, {student_name} {indicator}. {metric_context} demonstrates their growing {skill_area} and commitment to learning.","{student_name} has shown wonderful progress this week with {indicator}. {metric_context} reflects their developing {skill_area}.","We've seen excellent growth from {student_name} this week. {indicator} and {metric_context} show their {skill_area} development."],term:["Over this term, {student_name} has demonstrated remarkable growth. {indicator} and {metric_context} showcase their {skill_area} journey.","This term has been a period of significant development for {student_name}. {indicator} and {metric_context} reflect their {skill_area} progress.","{student_name} has made substantial gains this term. {indicator} combined with {metric_context} demonstrates their {skill_area} advancement."],breakthrough:["{student_name} has achieved a breakthrough moment! {indicator} and {metric_context} represent a significant leap in their {skill_area}.","This is a breakthrough period for {student_name}! {indicator} and {metric_context} show exceptional {skill_area} development.","We're celebrating a major breakthrough with {student_name}! {indicator} and {metric_context} demonstrate remarkable {skill_area} growth."]},A={reading_level:"literacy skills",math_skills:"mathematical thinking",writing_ability:"written expression",self_regulation:"emotional regulation",peer_interactions:"social skills",classroom_engagement:"learning engagement",positive_behaviors:"positive behavior choices",focus_attention:"attention and focus skills"};function I(i,t,s="weekly"){if(!i||!t)return"We're gathering data to tell {student_name}'s learning story.";let r=null,a=null,o="";for(const[b,l]of Object.entries(i))if(_[b]){const n=_[b][l]||_[b].improved,g=M(b,l);(!r||l==="accelerated")&&(r=n,a=b,o=g)}if(!r)return"We're observing {student_name}'s learning journey and gathering insights about their progress.";const d=L[s]||L.weekly;return d[Math.floor(Math.random()*d.length)].replace(/{student_name}/g,t).replace(/{indicator}/g,r).replace(/{metric_context}/g,o).replace(/{skill_area}/g,A[a]||"learning skills")}function M(i,t){const s={reading_level:{improved:"This progress in reading comprehension and fluency",maintained:"This consistent reading performance",accelerated:"This accelerated reading development"},math_skills:{improved:"This growth in problem-solving and mathematical reasoning",maintained:"This consistent mathematical confidence",accelerated:"This rapid mathematical skill development"},writing_ability:{improved:"This development in written expression and creativity",maintained:"This consistent writing quality",accelerated:"This exceptional writing progress"},self_regulation:{improved:"This growth in emotional management and self-control",maintained:"This consistent emotional regulation",accelerated:"This remarkable emotional development"},peer_interactions:{improved:"This development in collaborative skills and peer relationships",maintained:"This consistent positive peer influence",accelerated:"This exceptional social skill development"},classroom_engagement:{improved:"This growth in active participation and learning enthusiasm",maintained:"This consistent classroom engagement",accelerated:"This remarkable learning engagement"},positive_behaviors:{improved:"This increase in positive behavior choices and classroom contributions",maintained:"This consistent positive behavior",accelerated:"This exceptional behavior development"},focus_attention:{improved:"This growth in attention skills and learning focus",maintained:"This consistent attention and focus",accelerated:"This remarkable focus development"}};return s[i]?.[t]||s[i]?.improved||"This progress"}function R(i,t="weekly"){if(!i)return"We're gathering class-wide data to tell our collective learning story.";const s=[],r=[];for(const[o,d]of Object.entries(i))d==="improved"||d==="accelerated"?s.push(o):d==="maintained"&&r.push(o);if(s.length===0&&r.length===0)return"Our class is on a learning journey, and we're gathering insights about our collective progress.";let a="";if(s.length>0){const o=s.map(d=>A[d]||d).join(", ");a+=`Our class has shown wonderful growth in ${o}. `}if(r.length>0){const o=r.map(d=>A[d]||d).join(", ");a+=`We've also maintained our strong foundation in ${o}. `}return a+="This reflects our collective commitment to learning and supporting each other's growth.",a}const B={Emma:{reading_level:"accelerated",math_skills:"improved",writing_ability:"maintained",self_regulation:"improved",peer_interactions:"accelerated",classroom_engagement:"improved",positive_behaviors:"maintained",focus_attention:"improved"},Liam:{reading_level:"improved",math_skills:"accelerated",writing_ability:"improved",self_regulation:"maintained",peer_interactions:"improved",classroom_engagement:"accelerated",positive_behaviors:"improved",focus_attention:"maintained"},Sophia:{reading_level:"maintained",math_skills:"improved",writing_ability:"accelerated",self_regulation:"accelerated",peer_interactions:"maintained",classroom_engagement:"improved",positive_behaviors:"accelerated",focus_attention:"improved"}},T={reading_level:"improved",math_skills:"accelerated",writing_ability:"improved",self_regulation:"maintained",peer_interactions:"improved",classroom_engagement:"accelerated",positive_behaviors:"maintained",focus_attention:"improved"};function z(i){const[t,s]=x.useState(null),r=x.useMemo(()=>({socialSkills:["friendship","sharing","helping","cooperation","teamwork","kindness","empathy"],academicEngagement:["learning","focus","concentration","reading","writing","math","science","study"],emotionalGrowth:["confidence","bravery","patience","calm","happy","excited","proud"],leadershipEmergence:["leadership","responsible","organizer","helper","guide","mentor"],creativeProblemSolving:["creative","inventive","solution","idea","innovative","think","solve"],attentionFocus:["attention","focus","listen","follow","concentrate","engaged"],conflictResolution:["resolve","solution","compromise","fair","understand"],physicalActivity:["active","energy","movement","play","run","jump","sports"]}),[]),a=l=>{const n={positiveGrowth:[],areasOfConcern:[],consistentStrengths:[],emergingPatterns:[],criticalPatterns:[]};if(!l||l.length===0)return n;l.forEach((c,h)=>{if(!c.content)return;const p=c.content.toLowerCase();Object.entries(r).forEach(([S,k])=>{k.some(C=>p.includes(C))&&n.positiveGrowth.push({studentName:c.studentName,pattern:S,evidence:c.content.substring(0,100)+"...",storyIndex:h})}),(p.includes("struggle")||p.includes("difficulty")||p.includes("challenge"))&&n.areasOfConcern.push({studentName:c.studentName,concern:"Learning Challenge",evidence:c.content.substring(0,100)+"...",storyIndex:h}),(p.includes("always")||p.includes("consistently")||p.includes("every day"))&&n.consistentStrengths.push({studentName:c.studentName,strength:"Consistency",evidence:c.content.substring(0,100)+"...",storyIndex:h})});const g={};return n.positiveGrowth.forEach(c=>{g[c.pattern]=(g[c.pattern]||0)+1}),Object.entries(g).forEach(([c,h])=>{h>=3&&n.emergingPatterns.push({pattern:c,studentCount:h,description:`Multiple students showing ${c.replace(/([A-Z])/g," $1").toLowerCase()}`})}),n.criticalPatterns=o(n,l),n},o=(l,n)=>{const g=[];return l.areasOfConcern.length>=3&&g.push({title:"Mental Health Concerns",severity:"High",description:`${l.areasOfConcern.length} students showing signs of struggle or difficulty.`,stakeholders:["School Psychologist","Parents","School Counselor"],contributingStudents:l.areasOfConcern.slice(0,5).map(p=>({id:`student-${p.storyIndex}`,name:p.studentName}))}),l.positiveGrowth.filter(p=>p.pattern==="leadershipEmergence").length<2&&g.push({title:"Leadership Gap",severity:"Medium",description:"Limited leadership emergence observed across the class.",stakeholders:["Class Teacher","Student Council Advisor"],contributingStudents:l.positiveGrowth.filter(p=>p.pattern==="leadershipEmergence").slice(0,3).map(p=>({id:`student-${p.storyIndex}`,name:p.studentName}))}),l.positiveGrowth.filter(p=>p.pattern==="socialSkills").length>=n.length*.7&&g.push({title:"Strong Social Development",severity:"Low",description:"Excellent social skills development across most students.",stakeholders:["Class Teacher","Parents"],contributingStudents:l.positiveGrowth.filter(p=>p.pattern==="socialSkills").slice(0,5).map(p=>({id:`student-${p.storyIndex}`,name:p.studentName}))}),g},d=l=>{const n={behaviorDistribution:{},timePatterns:{},socialDynamics:{},learningStyles:{}};if(!l||l.length===0)return n;l.forEach(c=>{if(!c.content)return;const h=c.content.toLowerCase();(h.includes("help")||h.includes("share")||h.includes("cooperate"))&&(n.behaviorDistribution.positive=(n.behaviorDistribution.positive||0)+1),(h.includes("struggle")||h.includes("difficulty"))&&(n.behaviorDistribution.challenging=(n.behaviorDistribution.challenging||0)+1),(h.includes("lead")||h.includes("organize")||h.includes("responsible"))&&(n.behaviorDistribution.leadership=(n.behaviorDistribution.leadership||0)+1)});const g=l.filter(c=>c.content&&c.content.toLowerCase().includes("friend")).length;return n.socialDynamics.friendships=g,n},u=l=>{const n={totalStories:l.length,positiveIndicators:0,improvementAreas:0,engagementScore:0,averageStoryLength:0};if(!l||l.length===0)return n;let g=0;return l.forEach(c=>{if(!c.content)return;const h=c.content.toLowerCase();g+=c.content.length,(h.includes("great")||h.includes("excellent")||h.includes("wonderful"))&&n.positiveIndicators++,(h.includes("improve")||h.includes("develop")||h.includes("grow"))&&n.improvementAreas++,(h.includes("excited")||h.includes("interested")||h.includes("engaged"))&&n.engagementScore++}),n.averageStoryLength=Math.round(g/l.length),n},f=l=>{const n={};return l.forEach(g=>{if(!g.content)return;g.content.toLowerCase().split(/\s+/).forEach(h=>{h.length>3&&(n[h]=(n[h]||0)+1)})}),Object.entries(n).sort(([,g],[,c])=>c-g).slice(0,10).map(([g,c])=>({word:g,count:c}))};x.useEffect(()=>{const l=b(i);s(l)},[i]);const b=l=>{const n=l&&l.studentStories||[],g=a(n),c=d(n),h=u(n);return{trends:g,patterns:c,metrics:h,generatedAt:new Date().toISOString(),studentCount:n.length}};return{analyticsData:t,analyzeTrends:a,analyzePatterns:d,calculateSuccessMetrics:u,analyzeWordFrequency:f,analyzeBehavioralPatterns:l=>{const n={};return!l||l.length===0||l.forEach(g=>{if(!g.content)return;const c=g.content.toLowerCase();(c.includes("help")||c.includes("share")||c.includes("cooperate"))&&(n.positive=(n.positive||0)+1),(c.includes("struggle")||c.includes("difficulty"))&&(n.challenging=(n.challenging||0)+1),(c.includes("lead")||c.includes("organize")||c.includes("responsible"))&&(n.leadership=(n.leadership||0)+1)}),n}}}const G="/api";class F{constructor(){this.cache=new Map,this.cacheTimeout=300*1e3}async request(t,s={}){const r=`${G}${t}`,a={headers:{"Content-Type":"application/json",...s.headers},...s};try{const o=await fetch(r,a);if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);return await o.json()}catch(o){throw console.error(`API request failed: ${t}`,o),o}}async get(t,s={}){const r=new URLSearchParams(s).toString(),a=r?`${t}?${r}`:t;return this.request(a)}async post(t,s){return this.request(t,{method:"POST",body:JSON.stringify(s)})}async put(t,s){return this.request(t,{method:"PUT",body:JSON.stringify(s)})}async delete(t){return this.request(t,{method:"DELETE"})}async getClasses(t={}){return this.get("/classes",t)}async getClassById(t){return this.get(`/classes/${t}`)}async getStudents(t){return this.get("/students",{classId:t})}async getStudentById(t){return this.get(`/students/${t}`)}async getBehaviors(t,s={}){return this.get("/behaviors",{classId:t,...s})}async createBehavior(t){return this.post("/behaviors",t)}async updateBehavior(t,s){return this.put(`/behaviors/${t}`,s)}async deleteBehavior(t){return this.delete(`/behaviors/${t}`)}async getABCAnalysis(t){return this.get("/abc/analysis",{classId:t})}async createABCIncident(t){return this.post("/abc/incidents",t)}async getWeatherData(t){return this.get("/weather",{classId:t})}async getWeatherForecast(t){return this.get("/weather/forecast",{classId:t})}async getAnalytics(t){return this.get(`/analytics/${t}`)}async getAnalyticsTrends(t,s="weekly"){return this.get(`/analytics/${t}/trends`,{timeframe:s})}async getDataStories(t,s="weekly"){return this.get(`/stories/${t}`,{timeframe:s})}async regenerateDataStories(t,s="weekly"){return this.get(`/stories/${t}`,{timeframe:s,regenerate:!0})}async getReports(t,s="summary"){return this.get("/reports",{classId:t,type:s})}async exportReport(t,s="pdf"){return this.get("/reports/export",{classId:t,format:s})}async getUserProfile(){return this.get("/user/profile")}async updateUserProfile(t){return this.put("/user/profile",t)}clearCache(){this.cache.clear()}setCache(t,s){this.cache.set(t,{data:s,timestamp:Date.now()})}getCache(t){const s=this.cache.get(t);return s?Date.now()-s.timestamp>this.cacheTimeout?(this.cache.delete(t),null):s.data:null}}const y=new F;class W{constructor(){this.localStorage=typeof window<"u"?window.localStorage:null,this.cache=new Map}async loadClasses(t={}){try{const s=`classes_${JSON.stringify(t)}`,r=this.getCache(s);if(r)return r;const a=await y.getClasses(t);return this.setCache(s,a),a}catch(s){return console.error("Failed to load classes:",s),this.getCache(`classes_${JSON.stringify(t)}`)||[]}}async loadClassData(t){try{const[s,r,a]=await Promise.all([this.loadStudents(t),this.loadBehaviors(t),this.loadABCIncidents(t)]);return{students:s,behaviors:r,abcIncidents:a}}catch(s){return console.error("Failed to load class data:",s),{students:[],behaviors:[],abcIncidents:[]}}}async loadStudents(t){try{const s=`students_${t}`,r=this.getCache(s);if(r)return r;const a=await y.getStudents(t);return this.setCache(s,a),a}catch(s){return console.error("Failed to load students:",s),this.getCache(`students_${t}`)||[]}}async loadBehaviors(t,s={}){try{const r=`behaviors_${t}_${JSON.stringify(s)}`,a=this.getCache(r);if(a)return a;const o=await y.getBehaviors(t,s);return this.setCache(r,o),o}catch(r){return console.error("Failed to load behaviors:",r),this.getCache(`behaviors_${t}_${JSON.stringify(s)}`)||[]}}async createBehavior(t){try{const s=await y.createBehavior(t);return this.invalidateCache(/^behaviors_/),s}catch(s){throw console.error("Failed to create behavior:",s),s}}async loadABCIncidents(t){try{const s=`abc_${t}`,r=this.getCache(s);if(r)return r;const a=await this.generateMockABCIncidents(t);return this.setCache(s,a),a}catch(s){return console.error("Failed to load ABC incidents:",s),this.getCache(`abc_${t}`)||[]}}async generateMockABCIncidents(t){return[{id:"abc-1",studentId:"student-1",antecedent:"Teacher instruction",behavior:"Calling out",consequence:"Verbal redirect",timestamp:new Date().toISOString(),classId:t},{id:"abc-2",studentId:"student-2",antecedent:"Peer interaction",behavior:"Task refusal",consequence:"Loss of privilege",timestamp:new Date().toISOString(),classId:t}]}async loadWeatherData(t){try{const s=`weather_${t}`,r=this.getCache(s);if(r&&Date.now()-r.timestamp<1800*1e3)return r.data;const a=await y.getWeatherData(t);return this.setCache(s,a),a}catch(s){return console.error("Failed to load weather data:",s),null}}async loadAnalytics(t){try{const s=`analytics_${t}`,r=this.getCache(s);if(r)return r;const a=await y.getAnalytics(t);return this.setCache(s,a),a}catch(s){return console.error("Failed to load analytics:",s),null}}async loadDataStories(t,s="weekly"){try{const r=`stories_${t}_${s}`,a=this.getCache(r);if(a)return a;const o=await y.getDataStories(t,s);return this.setCache(r,o),o}catch(r){return console.error("Failed to load data stories:",r),null}}async regenerateDataStories(t,s="weekly"){try{this.invalidateCache(new RegExp(`stories_${t}_${s}`));const r=await y.regenerateDataStories(t,s);return this.setCache(`stories_${t}_${s}`,r),r}catch(r){throw console.error("Failed to regenerate data stories:",r),r}}setCache(t,s){if(this.cache.set(t,{data:s,timestamp:Date.now()}),this.localStorage)try{this.localStorage.setItem(`classtrack_${t}`,JSON.stringify({data:s,timestamp:Date.now()}))}catch(r){console.warn("Failed to persist to localStorage:",r)}}getCache(t){const s=this.cache.get(t);if(s)return s.data;if(this.localStorage)try{const r=this.localStorage.getItem(`classtrack_${t}`);if(r){const a=JSON.parse(r);if(Date.now()-a.timestamp<1440*60*1e3)return this.cache.set(t,a),a.data;this.localStorage.removeItem(`classtrack_${t}`)}}catch(r){console.warn("Failed to read from localStorage:",r)}return null}invalidateCache(t){if(t instanceof RegExp)for(const s of this.cache.keys())t.test(s)&&this.cache.delete(s);else this.cache.delete(t);if(this.localStorage)try{Object.keys(this.localStorage).forEach(r=>{if(r.startsWith("classtrack_")){const a=r.replace("classtrack_","");(t instanceof RegExp?t.test(a):a===t)&&this.localStorage.removeItem(r)}})}catch(s){console.warn("Failed to clear localStorage cache:",s)}}clearAllCache(){if(this.cache.clear(),this.localStorage)try{Object.keys(this.localStorage).forEach(s=>{s.startsWith("classtrack_")&&this.localStorage.removeItem(s)})}catch(t){console.warn("Failed to clear localStorage:",t)}}}const D=new W;function q(i,t){const[s,r]=x.useState(null),[a,o]=x.useState(!0),[d,u]=x.useState(null);x.useEffect(()=>{(async()=>{if(i){o(!0),u(null);try{const n=await D.loadDataStories(i,t);r(n||f())}catch(n){console.error("Error fetching stories:",n),u(n.message),r(f())}finally{o(!1)}}})()},[i,t]);const f=()=>{const l={studentStories:[{name:"Emma Johnson",story:"Emma has shown remarkable growth in her social skills this week. She consistently helps her classmates and shares materials without being asked. Her positive attitude and willingness to support others has made her a valuable member of our classroom community.",tags:["Social Skills","Leadership","Cooperation"]},{name:"Liam Chen",story:"Liam demonstrated excellent focus and concentration during our math activities. He approached challenging problems with determination and showed great perseverance when faced with difficulties. His problem-solving skills are developing nicely.",tags:["Academic Focus","Problem Solving","Perseverance"]},{name:"Sophia Rodriguez",story:"Sophia has blossomed as a creative thinker this term. Her innovative approaches to art projects and imaginative storytelling have inspired her peers. She brings unique perspectives to group discussions and activities.",tags:["Creativity","Innovation","Communication"]}],classOverview:"This class has shown tremendous growth in social-emotional learning and academic engagement. Students are developing strong collaborative skills and demonstrating increased confidence in their abilities.",timeframe:t,generatedAt:new Date().toISOString()};r(l)};return{storiesData:s,loading:a,error:d,regenerateStories:async()=>{if(i){o(!0),u(null);try{const l=await D.regenerateDataStories(i,t);r(l)}catch(l){console.error("Error regenerating stories:",l),u(l.message)}finally{o(!1)}}},generateMockStories:f}}function ee(){const[i,t]=x.useState("weekly"),[s,r]=x.useState(!1),[a,o]=x.useState(!1),[d,u]=x.useState(!1),{students:f,currentUser:b,selectedClassId:l}=O(),{storiesData:n,loading:g,error:c,regenerateStories:h}=q(l,i),{analyticsData:p}=z(n),S=[{id:"weekly",label:"Weekly",timeframe:"weekly",description:"Celebrate this week's growth"},{id:"term",label:"Term",timeframe:"term",description:"Reflect on term-long progress"},{id:"breakthrough",label:"Breakthrough",timeframe:"breakthrough",description:"Highlight major achievements"}],k=()=>{console.log("Generating mock stories for demonstration");const v=(f.length>0?f:[{id:"1",name:"Emma Johnson"},{id:"2",name:"Liam Smith"},{id:"3",name:"Sophia Brown"},{id:"4",name:"Noah Davis"}]).map(w=>({id:w.id,name:w.name,story:I(B[w.name]||{reading_level:"improved",math_skills:"maintained",self_regulation:"improved"},w.name,i),timeframe:i,generatedAt:new Date().toISOString()}));setStoriesData({classId:l,timeframe:i,classOverview:R(T,i),studentStories:v,totalStudents:v.length,generatedAt:new Date().toISOString(),isMock:!0})},C=async()=>{o(!0);try{const m={stories:n?.studentStories||[],classOverview:n?.classOverview||"",classMetrics:T,timeframe:i,exportDate:new Date().toISOString(),className:`Class ${l}`,teacherName:b?.name||"Teacher"},v=P(m),w=new Blob([v],{type:"text/html"}),E=window.URL.createObjectURL(w),j=document.createElement("a");j.href=E,j.download=`data-stories-${i}-${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(E),document.body.removeChild(j),alert("✅ Stories exported successfully! The HTML file can be opened in any browser or converted to PDF.")}catch(m){console.error("Export failed:",m),alert("❌ Export failed. Please try again.")}finally{o(!1)}},P=m=>`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Stories - ${m.timeframe.charAt(0).toUpperCase()+m.timeframe.slice(1)} Report</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 40px; line-height: 1.6; color: #333; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px; border-radius: 15px; margin-bottom: 30px; text-align: center; }
        .class-overview { background: #f8f9fa; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea; margin-bottom: 30px; }
        .student-story { background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .student-header { display: flex; align-items: center; margin-bottom: 15px; }
        .student-avatar { width: 50px; height: 50px; border-radius: 50%; background: #667eea; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px; }
        .story-content { color: #555; font-size: 16px; line-height: 1.7; }
        .tags { margin-top: 15px; }
        .tag { display: inline-block; background: #e9ecef; color: #495057; padding: 4px 8px; border-radius: 12px; font-size: 12px; margin-right: 8px; }
        .meta { font-size: 12px; color: #6c757d; margin-top: 10px; border-top: 1px solid #e9ecef; padding-top: 10px; }
        h1 { margin: 0; font-size: 2.5em; }
        h2 { color: #495057; border-bottom: 2px solid #667eea; padding-bottom: 10px; }
        .generated-info { background: #e9ecef; padding: 15px; border-radius: 8px; margin-top: 30px; font-size: 14px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>🌟 Data Stories</h1>
        <h2>${m.timeframe.charAt(0).toUpperCase()+m.timeframe.slice(1)} Progress Report</h2>
        <p><strong>Class:</strong> ${m.className} | <strong>Teacher:</strong> ${m.teacherName}</p>
        <p><strong>Generated:</strong> ${new Date(m.exportDate).toLocaleDateString()}</p>
    </div>

    <div class="class-overview">
        <h2>📊 Class Overview</h2>
        <p>${m.classOverview}</p>
    </div>

    <h2>👥 Individual Student Stories</h2>

    ${m.stories.map(v=>`
    <div class="student-story">
        <div class="student-header">
            <div class="student-avatar">${v.name.charAt(0)}</div>
            <div>
                <h3 style="margin: 0; color: #495057;">${v.name}</h3>
                <p style="margin: 5px 0 0 0; color: #6c757d;">${m.timeframe.charAt(0).toUpperCase()+m.timeframe.slice(1)} Progress</p>
            </div>
        </div>
        <div class="story-content">${v.story}</div>
        <div class="tags">
            <span class="tag">Personalized Story</span>
            <span class="tag">AI Generated</span>
            <span class="tag">Evidence-Based</span>
        </div>
        <div class="meta">
            Story generated for ${v.name} focusing on their unique learning journey and achievements.
        </div>
    </div>
    `).join("")}

    <div class="generated-info">
        <p><strong>About Data Stories:</strong> These narratives are generated using positive psychology principles to celebrate student growth, achievements, and unique learning journeys. Each story is based on observed behaviors, progress data, and classroom interactions.</p>
        <p><strong>Export Date:</strong> ${new Date(m.exportDate).toLocaleString()}</p>
        <p><strong>Generated by:</strong> ClassTrack Data Stories Engine</p>
    </div>
</body>
</html>`;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-4xl",children:"🌟"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Data Stories"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Celebrate growth and progress with positive, strength-based narratives"}),n?.isMock&&e.jsx("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"🔄 Using sample data for demonstration"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>u(!d),className:`px-4 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 ${d?"bg-purple-600 text-white hover:bg-purple-700":"bg-purple-100 text-purple-700 hover:bg-purple-200"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),d?"Hide Analytics":"Show Analytics"]}),e.jsxs("button",{onClick:h,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center gap-2",children:[s?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Generating...":"Regenerate"]}),e.jsxs("button",{onClick:C,disabled:a||!n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors font-medium flex items-center gap-2",children:[a?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a?"Exporting...":"Export HTML"]})]})]})})}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1",children:e.jsx("nav",{className:"flex space-x-1",children:S.map(m=>e.jsx("button",{onClick:()=>t(m.id),className:`flex-1 py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200 ${i===m.id?"bg-blue-600 text-white shadow-md transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:m.label}),e.jsx("div",{className:`text-xs mt-1 ${i===m.id?"text-blue-100":"text-gray-500"}`,children:m.description})]})},m.id))})})}),e.jsxs("div",{className:"space-y-8",children:[g&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📖"}),e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Crafting Your Stories..."}),e.jsx("p",{className:"text-gray-600",children:"We're generating personalized narratives celebrating your students' unique journeys."}),e.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"This may take a moment as we analyze each student's progress and achievements."})]})}),c&&e.jsx("div",{className:"bg-red-50 rounded-xl shadow-lg border border-red-200 p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"⚠️"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Unable to Load Stories"}),e.jsx("p",{className:"text-red-700 mb-4",children:c}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"}),e.jsx("button",{onClick:k,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Use Sample Data"})]})]})]})}),n&&!g&&!c&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"📊"}),"Class Overview"]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-100",children:[e.jsx("p",{className:"text-gray-800 leading-relaxed text-lg",children:n.classOverview}),e.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["👥 ",n.totalStudents," students"]}),e.jsxs("span",{children:["📅 ",n.timeframe," focus"]}),e.jsxs("span",{children:["⏰ Generated ",new Date(n.generatedAt).toLocaleDateString()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 px-6 py-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"👥"}),"Individual Student Stories"]}),e.jsx("p",{className:"text-green-100 text-sm mt-1",children:"Celebrating each student's unique learning journey"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:n.studentStories.map(m=>e.jsx(U,{student:m,story:m.story,timeframe:i},m.id))})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"📈"}),"Growth Insights"]}),e.jsx("p",{className:"text-purple-100 text-sm mt-1",children:"Key patterns and trends across your classroom"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:Object.entries(T).map(([m,v])=>e.jsx(H,{metric:m,value:v},m))}),e.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"💡 What This Means"}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Your class is showing strong growth in multiple areas. The combination of improved engagement and maintained positive behaviors suggests effective classroom strategies are working well. Consider building on these successes to address areas that need more attention."})]})]})]}),d&&p&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"📊"}),"Advanced Analytics"]}),e.jsx("p",{className:"text-purple-100 text-sm mt-1",children:"Deep insights into patterns, trends, and success metrics"})]}),e.jsx("div",{className:"p-6",children:e.jsx(V,{analyticsData:p})})]})]})]})]})})}function U({student:i,story:t,timeframe:s}){return e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 hover:shadow-lg hover:border-blue-300 transition-all duration-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-blue-600 font-bold text-lg shadow-md",children:i.name.charAt(0)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-white text-lg truncate",children:i.name}),e.jsxs("p",{className:"text-blue-100 text-sm capitalize",children:[s," Progress"]})]}),e.jsx("div",{className:"text-white opacity-75",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-lg p-4 border border-gray-100",children:e.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:t})}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800 border border-blue-200",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"Personalized"]}),e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800 border border-green-200",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"AI Generated"]}),e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-800 border border-purple-200",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Evidence-Based"]})]})]})]})}function H({metric:i,value:t}){const s=o=>({reading_level:"Reading Level",math_skills:"Math Skills",writing_ability:"Writing Ability",self_regulation:"Self-Regulation",peer_interactions:"Peer Interactions",classroom_engagement:"Classroom Engagement",positive_behaviors:"Positive Behaviors",focus_attention:"Focus & Attention"})[o]||o.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase()),a=(o=>{switch(o){case"accelerated":return{color:"text-green-600 bg-green-100 border-green-200",bgGradient:"from-green-400 to-green-600",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),label:"Accelerated",description:"Exceptional growth beyond expectations"};case"improved":return{color:"text-blue-600 bg-blue-100 border-blue-200",bgGradient:"from-blue-400 to-blue-600",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),label:"Improved",description:"Steady progress and development"};case"maintained":return{color:"text-gray-600 bg-gray-100 border-gray-200",bgGradient:"from-gray-400 to-gray-600",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14"})}),label:"Maintained",description:"Consistent performance level"};default:return{color:"text-gray-600 bg-gray-100 border-gray-200",bgGradient:"from-gray-400 to-gray-600",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),label:o.charAt(0).toUpperCase()+o.slice(1),description:"Performance level tracked"}}})(t);return e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 hover:shadow-lg transition-all duration-200 overflow-hidden",children:[e.jsx("div",{className:`bg-gradient-to-r ${a.bgGradient} px-4 py-3`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-bold text-white",children:s(i)}),e.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-2",children:a.icon})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:`inline-flex items-center px-3 py-2 rounded-lg text-sm font-bold border ${a.color} shadow-sm`,children:[a.icon,e.jsx("span",{className:"ml-2",children:a.label})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2 leading-relaxed",children:a.description})]})]})}function V({analyticsData:i}){const[t,s]=x.useState("trends"),r=[{id:"trends",label:"Trend Analysis",icon:"📈"},{id:"patterns",label:"Pattern Recognition",icon:"🔍"},{id:"metrics",label:"Success Metrics",icon:"📊"}],a=()=>{switch(t){case"trends":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx($,{title:"Positive Growth",icon:"📈",data:i.trends.positiveGrowth,color:"green",description:"Students showing consistent improvement"}),e.jsx($,{title:"Consistent Strengths",icon:"⭐",data:i.trends.consistentStrengths,color:"blue",description:"Reliable positive behaviors"}),e.jsx($,{title:"Areas of Focus",icon:"🎯",data:i.trends.areasOfConcern,color:"orange",description:"Areas needing additional attention"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 border border-indigo-100",children:[e.jsx("h4",{className:"text-lg font-semibold text-indigo-900 mb-3",children:"🔍 Emerging Patterns"}),e.jsx("div",{className:"space-y-2",children:i.trends.emergingPatterns.map((o,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-indigo-200",children:[e.jsxs("span",{className:"font-medium text-indigo-800",children:['"',o.pattern,'"']}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-indigo-600",children:[o.frequency," mentions"]}),e.jsx("span",{className:"text-xs text-indigo-500",children:o.description})]})]},d))})]})]});case"patterns":return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:Object.entries(i.patterns.strengthCategories).map(([o,d])=>e.jsx(K,{category:o,data:d},o))}),e.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg p-6 border border-teal-100",children:[e.jsx("h4",{className:"text-lg font-semibold text-teal-900 mb-4",children:"💡 Pattern Insights"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-teal-200",children:[e.jsx("h5",{className:"font-medium text-teal-800 mb-2",children:"Most Common Strength"}),e.jsx("p",{className:"text-sm text-teal-600",children:Object.entries(i.patterns.strengthCategories).sort(([,o],[,d])=>d.students.length-o.students.length)[0]?.[0]||"Various"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-teal-200",children:[e.jsx("h5",{className:"font-medium text-teal-800 mb-2",children:"Class Average Strength"}),e.jsxs("p",{className:"text-sm text-teal-600",children:[Object.values(i.patterns.strengthCategories).reduce((o,d)=>o+parseFloat(d.averageStrength),0)/Object.keys(i.patterns.strengthCategories).length,".0 out of 8"]})]})]})]})]});case"metrics":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(N,{title:"Positive Behavior Ratio",value:i.metrics.positiveBehaviorRatio,icon:"😊",color:"green",description:"Stories highlighting positive behaviors"}),e.jsx(N,{title:"Overall Engagement",value:i.metrics.overallEngagement,icon:"🎯",color:"blue",description:"Students with multiple positive indicators"}),e.jsx(N,{title:"Strength Diversity",value:i.metrics.strengthDiversity,icon:"🌈",color:"purple",description:"Unique positive terms used"}),e.jsx(N,{title:"Improvement Indicators",value:i.metrics.improvementIndicators,icon:"📈",color:"emerald",description:"Stories mentioning growth/progress"}),e.jsx(N,{title:"Social Connection Index",value:i.metrics.socialConnectionIndex,icon:"🤝",color:"indigo",description:"Stories highlighting social skills"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-6 border border-emerald-100",children:[e.jsx("h4",{className:"text-lg font-semibold text-emerald-900 mb-3",children:"🏆 Class Performance Summary"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-emerald-800 mb-2",children:"Top Performing Areas"}),e.jsxs("ul",{className:"text-sm text-emerald-700 space-y-1",children:[i.metrics.positiveBehaviorRatio>70&&e.jsx("li",{children:"• Positive Behavior Recognition"}),i.metrics.overallEngagement>60&&e.jsx("li",{children:"• Student Engagement"}),i.metrics.strengthDiversity>15&&e.jsx("li",{children:"• Strength Diversity"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-emerald-800 mb-2",children:"Areas for Growth"}),e.jsxs("ul",{className:"text-sm text-emerald-700 space-y-1",children:[i.metrics.socialConnectionIndex<40&&e.jsx("li",{children:"• Social Skills Development"}),i.metrics.improvementIndicators<50&&e.jsx("li",{children:"• Growth Mindset Promotion"})]})]})]})]})]});case"critical":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-lg p-6 border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"text-2xl",children:"🚨"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-red-900",children:"Administrative Alert System"}),e.jsx("p",{className:"text-sm text-red-700",children:"Critical patterns requiring immediate attention"})]})]}),i.trends.criticalPatterns.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-2",children:"✅"}),e.jsx("p",{className:"text-green-700 font-medium",children:"No critical patterns detected"}),e.jsx("p",{className:"text-sm text-green-600",children:"All systems operating within normal parameters"})]}):e.jsx("div",{className:"space-y-4",children:i.trends.criticalPatterns.map((o,d)=>e.jsx(J,{pattern:o},d))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg p-6 border border-amber-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-amber-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"📋"}),"Administrative Response Protocol"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-amber-200",children:[e.jsx("h5",{className:"font-medium text-amber-800 mb-2",children:"Immediate Actions (High Priority)"}),e.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:"• Document all incidents with specific details"}),e.jsx("li",{children:"• Notify appropriate stakeholders immediately"}),e.jsx("li",{children:"• Implement safety protocols if needed"}),e.jsx("li",{children:"• Schedule follow-up meetings within 24 hours"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-amber-200",children:[e.jsx("h5",{className:"font-medium text-amber-800 mb-2",children:"Long-term Strategies"}),e.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:"• Develop comprehensive intervention plans"}),e.jsx("li",{children:"• Monitor progress with regular check-ins"}),e.jsx("li",{children:"• Provide staff training and support"}),e.jsx("li",{children:"• Review and update school policies"})]})]})]})]})]});default:return null}};return e.jsxs("div",{children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-gray-50 rounded-lg p-1",children:e.jsx("nav",{className:"flex space-x-1",children:r.map(o=>e.jsx("button",{onClick:()=>s(o.id),className:`flex-1 py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200 ${t===o.id?"bg-purple-600 text-white shadow-md transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg mb-1",children:o.icon}),e.jsx("div",{className:"font-semibold",children:o.label})]})},o.id))})})}),a()]})}function $({title:i,icon:t,data:s,color:r,description:a}){const o={green:"bg-green-100 border-green-200 text-green-800",blue:"bg-blue-100 border-blue-200 text-blue-800",orange:"bg-orange-100 border-orange-200 text-orange-800"};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:t}),e.jsx("h4",{className:"font-semibold text-gray-900",children:i})]}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o[r]}`,children:[s.length," students"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:a}),s.length>0?e.jsxs("div",{className:"space-y-2",children:[s.slice(0,3).map((d,u)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-700",children:d.student})]},u)),s.length>3&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",s.length-3," more students"]})]}):e.jsx("div",{className:"text-sm text-gray-500 italic",children:"No students identified"})]})}function K({category:i,data:t}){const s={learning:"🎓",social:"🤝",character:"⭐",creative:"🎨"},r={learning:"from-blue-400 to-blue-600",social:"from-green-400 to-green-600",character:"from-purple-400 to-purple-600",creative:"from-pink-400 to-pink-600"};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:`bg-gradient-to-r ${r[i]} px-4 py-3`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:s[i]}),e.jsxs("h4",{className:"font-bold text-white capitalize",children:[i," Strengths"]})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.averageStrength}),e.jsx("div",{className:"text-xs text-gray-600",children:"Average Strength"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.topPerformers}),e.jsx("div",{className:"text-xs text-gray-600",children:"Top Performers"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"font-medium text-gray-800",children:"Top Students:"}),t.students.slice(0,3).map((a,o)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:a.student}),e.jsxs("span",{className:"text-blue-600 font-medium",children:[a.strength," matches"]})]},o))]})]})]})}function N({title:i,value:t,icon:s,color:r,description:a}){const o={green:"from-green-400 to-green-600",blue:"from-blue-400 to-blue-600",purple:"from-purple-400 to-purple-600",emerald:"from-emerald-400 to-emerald-600",indigo:"from-indigo-400 to-indigo-600"},d=u=>u>=80?"text-green-600":u>=60?"text-blue-600":u>=40?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:`bg-gradient-to-r ${o[r]} px-4 py-3`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:s}),e.jsx("h4",{className:"font-bold text-white text-sm",children:i})]}),e.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-2",children:e.jsxs("span",{className:`text-lg font-bold ${d(t)}`,children:[t,"%"]})})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full ${t>=80?"bg-green-500":t>=60?"bg-blue-500":t>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t}%`}})}),e.jsx("p",{className:"text-xs text-gray-600",children:a})]})]})}function J({pattern:i}){const s=(r=>{switch(r){case"high":return{bg:"from-red-500 to-red-600",border:"border-red-300",text:"text-red-900",bgLight:"bg-red-50",badge:"bg-red-100 text-red-800"};case"medium":return{bg:"from-orange-500 to-orange-600",border:"border-orange-300",text:"text-orange-900",bgLight:"bg-orange-50",badge:"bg-orange-100 text-orange-800"};default:return{bg:"from-yellow-500 to-yellow-600",border:"border-yellow-300",text:"text-yellow-900",bgLight:"bg-yellow-50",badge:"bg-yellow-100 text-yellow-800"}}})(i.severity);return e.jsxs("div",{className:`border-2 ${s.border} rounded-lg overflow-hidden shadow-md`,children:[e.jsx("div",{className:`bg-gradient-to-r ${s.bg} px-4 py-3`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"⚠️"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-white text-sm",children:i.pattern}),e.jsx("p",{className:"text-white text-xs opacity-90",children:i.description})]})]}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${s.badge}`,children:[i.severity.toUpperCase()," PRIORITY"]})]})}),e.jsxs("div",{className:`${s.bgLight} p-4`,children:[e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h6",{className:`font-semibold ${s.text} mb-2`,children:"Required Action"}),e.jsx("p",{className:`text-sm ${s.text} opacity-80`,children:i.actionRequired})]}),e.jsxs("div",{children:[e.jsx("h6",{className:`font-semibold ${s.text} mb-2`,children:"Stakeholders"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:i.stakeholders.map((r,a)=>e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.badge}`,children:r},a))})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:`${s.text} font-medium`,children:[i.frequency," affected students"]}),e.jsx("span",{className:`${s.text} opacity-70`,children:"Immediate attention required"})]})})]})]})}export{ee as default};
